---
title: ãƒ–ãƒ­ã‚°ã«æœ€è¿‘è¿½åŠ ã—ãŸæ©Ÿèƒ½ãªã©(202309)
tags: ['Tech', 'Next.js']
date: '2023-9-10'
lastmod: '2023-9-20'
draft: false
summary: 'æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¸ã®ç§»è¡Œ, ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åŸ‹ã‚è¾¼ã¿, ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«ãƒ»æœ€çµ‚æ›´æ–°æ—¥è¿½åŠ '
---

æœ€è¿‘è¿½åŠ ã—ãŸæ©Ÿèƒ½ã«ã¤ã„ã¦ã®ãƒ¡ãƒ¢ã€‚

<TOCInline toc={props.toc} asDisclosure />

<br />

## æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¸ã®ç§»è¡Œ

[Release of Tailwind Nextjs Starter Blog v2.0](https://tailwind-nextjs-starter-blog.vercel.app/blog/release-of-tailwind-nextjs-starter-blog-v2.0)

ç§»è¡Œã™ã‚‹ã«ã‚ãŸã£ã¦ã¯ã€æ¨å¥¨ã•ã‚Œã¦ã„ã‚‹é€šã‚Šæ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã€ã“ã‚Œã¾ã§ã®ç·¨é›†å±¥æ­´ã‚’åæ˜ ã—ç›´ã—ã¦å¯¾å¿œã—ãŸã€‚
è¨˜æ³•ã«å¤‰æ›´ãŒã‚ã£ãŸã‚Šã€ã‚¨ãƒ©ãƒ¼ã‚‚è‰²ã€…ç™ºç”Ÿã—ãŸãŒã€ã‚°ã‚°ã‚Œã°è§£æ±ºã§ãã‚‹ãƒ¬ãƒ™ãƒ«ãªã®ã§èª¬æ˜ã¯çœç•¥ã€‚

æ¤œç´¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(Algolia)ã«ã¤ã„ã¦ã€ç¾åœ¨ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒª([plinyãƒªãƒã‚¸ãƒˆãƒªå†…ã®ã‚‚ã®](https://github.com/timlrx/pliny))ãŒæ—¥æœ¬èªã«å¯¾å¿œã—ã¦ã„ãªã„ã®ã§ã€æ¤œç´¢ãƒœã‚¿ãƒ³ã ã‘å‰Šé™¤ã—ã¦ã„ã‚‹ã€‚æ—©æ™©å¯¾å¿œã™ã‚‹ã€‚

## ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åŸ‹ã‚è¾¼ã¿

ã¾ãšã¯ã˜ã‚ã«ã€CSP(Content Security Policy)ã‚’è¨­å®šã€‚

```diff-js:next.config.js
 const ContentSecurityPolicy = `
   default-src 'self';
-  script-src 'self' 'unsafe-eval' 'unsafe-inline' giscus.app analytics.umami.is;
-  style-src 'self' 'unsafe-inline';
+  script-src 'self' 'unsafe-eval' 'unsafe-inline' 'giscus.app' 'analytics.umami.is' 'https://twitter.com' 'https://*.twitter.com' 'https://syndication.twitter.com' 'https://www.nicovideo.jp' 'https://open.spotify.com';
+  style-src 'self' 'unsafe-inline' 'https://www.youtube.com' 'https://twitter.com' 'https://*.twitter.com' 'https://syndication.twitter.com' 'https://www.nicovideo.jp' 'https://open.spotify.com';
   img-src * blob: data:;
   media-src *.s3.amazonaws.com;
   connect-src *;
   font-src 'self';
-  frame-src giscus.app
+  frame-src giscus.app https://www.youtube.com https://twitter.com https://*.twitter.com https://syndication.twitter.com https://www.nicovideo.jp https://ext.nicovideo.jp https://open.spotify.com;
+  child-src https://www.youtube.com https://twitter.com https://*.twitter.com https://syndication.twitter.com https://www.nicovideo.jp https://ext.nicovideo.jp https://open.spotify.com;
 `
```

<br />

### ğ•

æ¤œè¨ä¸­ã€‚
æ¤œè¨ã®æ®‹éª¸ã‚’ç½®ã„ã¦ãŠãã€‚

- [react-twitter-embed-darkmode](https://github.com/reiji990/react-twitter-embed-darkmode)

  [timlrx/tailwind-nextjs-starter-blog](https://github.com/timlrx/tailwind-nextjs-starter-blog)v1.x.xã§ã¯æ©Ÿèƒ½ã—ã¦ã„ãŸã®ã ãŒã€v2.0.0ã«åˆ‡ã‚Šæ›¿ãˆãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‹ã‚‰æ©Ÿèƒ½ã—ãªããªã£ãŸã€‚[Twitterå´ã®ãƒã‚°?](https://github.com/saurabhnemade/react-twitter-embed/issues/135#issuecomment-1675434915)

- [react-tweet](https://github.com/vercel/react-tweet)

  VercelãŒ7æœˆã«å…¬é–‹ã—ãŸåŸ‹ã‚è¾¼ã¿ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚[æ—¢ã«ğ•ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã‚’æ‹’å¦ã•ã‚Œã¦ã„ã‚‹æ§˜å­ã€‚](https://github.com/vercel/react-tweet/issues/134#issuecomment-1694009353)

### ãƒ‹ã‚³ãƒ‹ã‚³å‹•ç”»

ãƒ‹ã‚³ãƒ‹ã‚³å‹•ç”»å…¬å¼ã®åŸ‹ã‚è¾¼ã¿ã‚³ãƒ¼ãƒ‰ã¯scriptã‚¿ã‚°ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŒã€**Next.jsã§ã¯scriptã‚¿ã‚°ã‚’ä½¿ãˆãªã„ã€‚**

[Next.jsã§ã¯ã€Headã«Scriptã‚¿ã‚°ã¯ä½¿ãˆã¾ã›ã‚“ï¼](https://zenn.dev/hatsumihayashi/articles/3834902cf5ac4e)

å¯¾å¿œç­–ã¨ã—ã¦ã€ä»Šå›ã¯ä»¥ä¸‹è¨˜äº‹ã®æ–¹æ³•2ã‚’æ¡ç”¨ã€‚

[Reactã§ãƒ‹ã‚³ãƒ‹ã‚³å‹•ç”»ã®åŸ‹ã‚è¾¼ã¿ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ä½¿ã†](https://qiita.com/fanta_cps/items/13e0819e0c1db111186c)

- [Niconico.tsx](https://github.com/reiji990/blog/blob/main/components/Niconico.tsx)

  ä½œæˆã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚é ­ã®`'use client'`ã¨ã‹ã€MessageEventã®å‹ã¨ã‹ã€ã“ã®ãƒ–ãƒ­ã‚°ã§ä½¿ç”¨ã™ã‚‹ã«ã‚ãŸã‚Šå°‘ã—å¤‰æ›´ãŒã‚ã‚‹ã€‚

```
<NicovideoPlayer id="so32488462" />
```

<NicovideoPlayer id="so32488462" />

### YouTube

YouTubeã¯å‹•ç”»ãƒšãƒ¼ã‚¸ã‹ã‚‰åŸ‹ã‚è¾¼ã¿ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—ã—ã¦è²¼ã‚‹ã ã‘ã§ã‚‚è‰¯ã„ãŒã€ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã«ã§ããªã„ã“ã¨ã¨ã€å¹…å›ºå®šã«ãªã£ã¦ã—ã¾ã„ã‚¹ãƒãƒ›ã§è¡¨ç¤ºã—ãŸæ™‚ã«è¡¨ç¤ºãŒå´©ã‚Œã‚‹å•é¡ŒãŒã‚ã‚‹ã€‚
ãƒ‹ã‚³ãƒ‹ã‚³å‹•ç”»åŸ‹ã‚è¾¼ã¿ç”¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’URLã ã‘å¤‰æ›´ã—ã¦YouTubeã«é©ç”¨ã™ã‚‹ã€‚

- [Youtube.tsx](https://github.com/reiji990/blog/blob/main/components/Youtube.tsx)

```
<YoutubevideoPlayer id="1-o7fmQqSNg" />
```

<YoutubevideoPlayer id="1-o7fmQqSNg" />

### Spotify


Spotifyã¯å–å¾—ã—ãŸåŸ‹ã‚è¾¼ã¿ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
ã‚‚ã—ãã¯`style`ã¯å‰Šé™¤ã—ã¦ã‚‚è‰¯ã„ã€‚
ãã®ã†ã¡ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œã‚‹ã‹ã‚‚ã€‚

```diff-tsx
 <iframe
-  style="border-radius:12px" 
+  style={{ borderRadius: '12px' }}
   src="https://open.spotify.com/embed/track/01O9MJOCJTvGj41MUZ1HGf?utm_source=generator&theme=0"
   width="100%"
   height="352"
   frameBorder="0"
   allowfullscreen=""
   allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
   loading="lazy"
 ><a></a></iframe>
```

<iframe
  style={{ borderRadius: '12px' }}
  src="https://open.spotify.com/embed/track/01O9MJOCJTvGj41MUZ1HGf?utm_source=generator&theme=0"
  width="100%"
  height="352"
  frameBorder="0"
  allowfullscreen=""
  allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
  loading="lazy"
><a></a></iframe>

<br />

## ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«ã€æœ€çµ‚æ›´æ–°æ—¥è¿½åŠ 

```diff
  ---
  title: è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«
+ subtitle: ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«
  tags: ['test']
  date: '1-1-1'
+ lastmod: '1-1-2'
  draft: true
  summary: 'æ¦‚è¦'
  ---
```

<div className="my-1 w-full overflow-hidden px-2 xl:my-1 xl:w-1/2 xl:px-2">
  <img
    art="ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«ã€æœ€çµ‚æ›´æ–°æ—¥"
    src="/static/images/new-features-202309/subtitle,lastmod.png"
  />
</div>

- å¤‰æ›´ç®‡æ‰€

  ä»–ã«ã‚‚å¤‰æ›´ç®‡æ‰€ã¯ã‚ã‚‹ãŒã‚³ãƒŸãƒƒãƒˆãŒæ•£é€¸ã—ã¦ã„ã‚‹ã®ã§å®Ÿè£…åˆã‚ã®ãƒãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆã ã‘è²¼ã£ã¦ãŠãã€‚

  - [subtitle](https://github.com/reiji990/blog/commit/e880bd5b27626bef73ed27bf3f67e6da57fcdc0c)

  - [lastmod](https://github.com/reiji990/blog/commit/607f33351d80b9490c4c53e0bbe4d4eacfe33a27)
